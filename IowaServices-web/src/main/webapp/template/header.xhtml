<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">  
    <body>
        <ui:composition>

            <!-- navigation panel -->
            <header class="header">
                <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
                    <div class="container-fluid">
                        <div class="container">
                            <div class="row">
                                <!-- Brand and toggle get grouped for better mobile display -->
                                <div class="navbar-header col-lg-3">
                                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-main">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <h:link class="navbar-brand" value="IOWA Services" outcome="/home" />
                                </div>
                                <div class="search-container col-lg-4">
                                    <h:form>
                                        <h:inputText value="#{searchProvidersController.searchString}"/>
                                        <h:commandButton action="#{searchProvidersController.searchServiceProviders}" value=""/>
                                    </h:form>
                                </div>
                                <div class="collapse navbar-collapse col-lg-4 col-lg-offset-1" id="navbar-collapse-main">
                                    <ul class="nav navbar-nav navbar-right">
                                        <li class="onepage"><a  href="#about">About</a></li>
                                        <li class="onepage"><a href="#services">Services</a></li>
                                        <ui:fragment rendered="#{request.userPrincipal != null}">
                                            <ui:fragment rendered="#{request.isUserInRole('ROLE_ADMIN')}">
                                                <li ><h:link value="Skills" outcome="/admin/skills" /></li>
                                                <!--<li ><h:link value="Admin" outcome="/services" /></li>-->
                                            </ui:fragment>
                                        </ui:fragment>

                                        <li ><h:link value="Main" outcome="/main" /></li>
                                        <li><a href="#google_map">Contact</a></li>
                                    </ul>
                                </div><!-- /.navbar-collapse -->
                            </div>
                        </div>
                    </div><!-- /.container-fluid -->
                </nav>
            </header>
            <div class="container-fluid" >
                <div class="container" >
                    <div class="row login_options pull-right">
                        <ui:fragment rendered="#{request.userPrincipal != null}">
                            
                            <h:form>
                                Welcome 
                                <h:commandLink action="#{userController.userInfo()}" value="#{loginController.user.userInformation.fullName}"/>
                                |
                                <h:outputLink value="#{request.contextPath}/j_spring_security_logout">Logout</h:outputLink>
                            </h:form>    
                        </ui:fragment>
                        <ui:fragment rendered="#{request.userPrincipal == null}">
                            <h:link value="Login" outcome="/main" /> | 
                            <h:link value="Register" outcome="/register"/>
                        </ui:fragment>
                    </div>
                </div> 
            </div>
            <div>

            </div>
        </ui:composition>
    </body>
</html>
